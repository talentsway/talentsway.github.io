<!DOCTYPE html>


<head>
    <meta charset="UTF-8">
    <title>Register on the Talents way website</title>
    <title>ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ ŸÅŸä ŸÖŸàŸÇÿπ ÿ∑ÿ±ŸäŸÇ ÿßŸÑŸÖŸàÿßŸáÿ®</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #d4a6d5;
            margin: 0;
            padding: 0;

        }

        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            border-bottom: 2px solid #891ea775;
        }

        .top-left {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .top-left img {
            height: 48px;
            width: 48px;
            object-fit: cover;
            border-radius: 8px;
        }

        .top-left h1 {
            font-size: 1.1rem;
            margin: 0;
        }

        .top-center {
            flex: 1;
            display: flex;
            justify-content: center;
            position: relative;
        }

        .search-box {
            display: flex;
            position: relative;
        }

        .search-box input {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #a572d2eb;
            border-radius: 5px;
            width: 250px;
            direction: ltr;
            text-align: left;
        }

        .search-box button {
            padding: 10px;
            margin-left: 5px;
            font-size: 16px;
            cursor: pointer;
        }

        #results {
            position: absolute;
            top: 40px;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ccc;
            border-radius: 5px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 10;
        }

        #results div {
            padding: 8px;
            border-bottom: 1px solid #eee;
            text-align: left;
        }

        #results div:last-child {
            border-bottom: none;
        }

        #results a {
            text-decoration: none;
            color: black;
        }

        .top-right button {
            padding: 10px 20px;
            font-size: 16px;
            color: black;
        }


        .container {
            max-width: 900px;
            margin: 20px auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
        }

        input,
        select,
        textarea,
        button {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        button {
            background: #de46c2;
            color: white;
            border: none;
            cursor: pointer;
        }

        button:hover {
            background: #a040ba;
        }

        .hidden {
            display: none;
        }

        .lesson {
            background: #dd73ed;
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }

        .pending {
            background: #cb42af;
            padding: 5px;
            margin: 5px 0;
            border-radius: 5px;
        }

        .switch-btn {
            background: #c220c8;
        }

        .switch-btn:hover {
            background: #d219d2;
        }

        .bottom-btn {
            text-align: center;
            margin: 40px 0;
        }

        .bottom-btn button {
            padding: 12px 30px;
            font-size: 18px;
            background-color: #a64aae86;
            color: rgb(1, 0, 0);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            width: auto;
        }

        .bottom-btn button:hover {
            background-color: #a05eb292;
        }
    </style>
</head>

<body>

    <div class="top-bar">
        <div class="top-left">
            <img src="https://private-user-images.githubusercontent.com/248061948/526217398-b86d4981-55a5-42cd-9990-bb1c3c22b31e.jpeg?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjU3MTkzNzgsIm5iZiI6MTc2NTcxOTA3OCwicGF0aCI6Ii8yNDgwNjE5NDgvNTI2MjE3Mzk4LWI4NmQ0OTgxLTU1YTUtNDJjZC05OTkwLWJiMWMzYzIyYjMxZS5qcGVnP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MTIxNCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTEyMTRUMTMzMTE4WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9N2ZkMzZlNDkyZWE5NTZjMWJmZjdiZWMxODMyY2FkNWFmMWE4MzJmYTdiYjVkMmI2M2I2YWU2N2VlNmVjOWVjMiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.crtgfoSd1vzXyAlkvUC2P4Bi87Q7F5rYVHxz4iUF12w" alt="ŸÑŸàÿ∫Ÿà ÿ∑ÿ±ŸäŸÇ ÿßŸÑŸÖŸàÿßŸáÿ®"
                onerror="this.style.display='none'" />
            <h1> talents way</h1>
        </div>

        <div class="top-center">
            <div class="search-box">
                <input id="searchInput" type="text" placeholder="Find a course">
                <button>üîç</button>
                <div id="results" class="hidden"></div>
            </div>
        </div>

        <div class="top-right">
            <a href="index.html">
                <button>home page</button> </a>
        </div>
    </div>

    <div class="container">

        <button class="switch-btn" onclick="showLogin()">Login</button>
        <button class="switch-btn" onclick="showRegister()">Create a new account</button>

        <div id="loginDiv" class="hidden">
            <h2>Login</h2>
            <select id="loginRole">
                <option value="student">student</option>
                <option value="teacher">teacher</option>
                <option value="admin">admin</option>
            </select>
            <input type="text" id="loginName" placeholder="full name">
            <input type="password" id="loginPassword" placeholder="password">
            <button onclick="login()">login</button>
        </div>

        <div id="registerDiv" class="hidden">
            <h2>Create a new account</h2>
            <select id="registerRole">
                <option value="student">student</option>
                <option value="teacher">teacher</option>
            </select>
            <input type="text" id="registerName" placeholder="full name">
            <input type="password" id="registerPassword" placeholder="password">
            <input type="text" id="registerCourse" placeholder="Course name">
            <input type="text" id="registerQualifications" placeholder="Academic qualifications (for the teacher)">
            <input type="email" id="registerEmail" placeholder="Email address (for the teacher)">
            <button onclick="register()">Create an account</button>
        </div>
        <div id="teacherDiv" class="hidden">
            <h2>teacher</h2>
            <p>welcome<span id="teacherName"></span></p>

            <h3>Schedule the class</h3>
            <input type="datetime-local" id="sessionTime">
            <button onclick="saveSessionTime()">Save the appointment</button>
            <p id="savedTimeText">The date of the lesson has not yet been determined.</p>

            <h3>Class link</h3>
            <input type="text" id="sessionLink" placeholder="Place the link to the lesson here">
            <button onclick="saveSessionLink()">Save the link</button>
            <p id="savedLinkText"></p>

            <h3>Add a lesson</h3>
            <input type="text" id="lessonTitle" placeholder="Lesson title">
            <textarea id="lessonContent" placeholder="Lesson content"></textarea>
            <input type="file" id="lessonFile">
            <button onclick="addLesson()">Add a lesson</button>

            <h3>Your lessons</h3>
            <div id="teacherLessons"></div>
        </div>

        <div id="studentDiv" class="hidden">
            <h2>student</h2>
            <p>welcome<span id="studentName"></span></p>

            <h3>Class time</h3>
            <p id="sessionInfo">The class time has not been determined.</p>
            <button onclick="paySession()" id="payBtn">Payment by gold card - 250 dzd</button>
            <button onclick="enterSession()" id="enterBtn" class="hidden">Enter the class</button>
            <button onclick="goToSessionLink()" id="goToLinkBtn" class="hidden">Enter the course now</button>

            <h3>Course lessons</h3>
            <div id="studentLessons"></div>
        </div>

        <div id="adminDiv" class="hidden">
            <h2>admin</h2>
            <p>welcome</p>
            <h3>The professors are awaiting approval.</h3>
            <div id="pendingUsers"></div>
        </div>

    </div>
    <script>
        // *********** ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ¥ÿ±ŸÅ ***********
        const admins = [
            { name: "admin1", password: "1234" }
        ];

        let users = JSON.parse(localStorage.getItem("users")) || [];
        let lessons = JSON.parse(localStorage.getItem("lessons")) || [];
        let currentUser = JSON.parse(localStorage.getItem("currentUser")) || null;
        let sessionTime = localStorage.getItem("sessionTime") || null;
        let sessionLink = localStorage.getItem("sessionLink") || null;

        // *********** ÿßŸÑÿ™ÿ®ÿØŸäŸÑ ÿ®ŸäŸÜ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸàÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ ***********
        function showLogin() {
            document.getElementById("loginDiv").classList.remove("hidden");
            document.getElementById("registerDiv").classList.add("hidden");
        }
        function showRegister() {
            document.getElementById("registerDiv").classList.remove("hidden");
            document.getElementById("loginDiv").classList.add("hidden");
        }

        // *********** ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ***********
        function login() {
            const role = document.getElementById("loginRole").value;
            const name = document.getElementById("loginName").value.trim();
            const password = document.getElementById("loginPassword").value;

            if (!name || !password) { alert("Fill in all fields"); return; }

            if (role === "admin") {
                const adminUser = admins.find(a => a.name === name && a.password === password);
                if (!adminUser) { alert("Account not found as administrator"); return; }
                currentUser = { role: "admin", name: adminUser.name };
                localStorage.setItem("currentUser", JSON.stringify(currentUser));
                showDashboard();
                return;
            }

            const user = users.find(u => u.name === name && u.role === role);
            if (!user) { alert("The account does not exist"); return; }
            if (user.password !== password) { alert("The password is incorrect"); return; }
            if (user.role === "teacher" && user.status === "pending") { alert("The account is being approved"); return; }

            currentUser = user;
            localStorage.setItem("currentUser", JSON.stringify(currentUser));
            showDashboard();
        }

        // *********** ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ® ÿ¨ÿØŸäÿØ ***********
        function register() {
            const role = document.getElementById("registerRole").value;
            const name = document.getElementById("registerName").value.trim();
            const password = document.getElementById("registerPassword").value;
            const course = document.getElementById("registerCourse").value.trim();
            const qualifications = document.getElementById("registerQualifications").value.trim();
            const email = document.getElementById("registerEmail").value.trim();

            if (!name || !password || !course) { alert("Fill in all the fields!"); return; }
            if (role === "teacher" && (!qualifications || !email)) { alert("Academic qualifications and email address must be entered"); return; }

            if (users.find(u => u.name === name && u.role === role)) { alert("Account B exists"); return; }

            const user = { role, name, password, course, status: role === "teacher" ? "pending" : "approved" };
            if (role === "teacher") { user.qualifications = qualifications; user.email = email; }

            users.push(user);
            localStorage.setItem("users", JSON.stringify(users));
            alert("The account has been created" + (role === "teacher" ? "Waiting for approval" : "You can login directly"));
        }

        // *********** ÿπÿ±ÿ∂ ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ ***********
        function showDashboard() {
            document.getElementById("loginDiv").classList.add("hidden");
            document.getElementById("registerDiv").classList.add("hidden");
            document.getElementById("teacherDiv").classList.add("hidden");
            document.getElementById("studentDiv").classList.add("hidden");
            document.getElementById("adminDiv").classList.add("hidden");

            if (currentUser.role === "admin") {
                document.getElementById("adminDiv").classList.remove("hidden");
                displayPendingUsers();
            }
            else if (currentUser.role === "teacher") {
                document.getElementById("teacherDiv").classList.remove("hidden");
                document.getElementById("teacherName").textContent = currentUser.name;
                displayTeacherLessons();
                loadSessionTeacher();
            }
            else if (currentUser.role === "student") {
                document.getElementById("studentDiv").classList.remove("hidden");
                document.getElementById("studentName").textContent = currentUser.name;
                displayStudentLessons();
                displaySessionToStudent();
            }
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem("currentUser");
            location.reload();
        }
        // ******** ÿßŸÑÿØÿ±Ÿàÿ≥ ********
        function addLesson() {
            const title = document.getElementById("lessonTitle").value;
            const content = document.getElementById("lessonContent").value;
            const fileInput = document.getElementById("lessonFile");
            const file = fileInput.files[0];

            if (!title || !content) { alert("Fill in the fields"); return; }
            if (file && file.size > 2 * 1024 * 1024) { alert("The file is large"); return; }

            const reader = new FileReader();
            reader.onload = function (e) {
                lessons.push({ title, content, course: currentUser.course, teacherName: currentUser.name, fileData: e.target.result, fileName: file ? file.name : null });
                localStorage.setItem("lessons", JSON.stringify(lessons));
                displayTeacherLessons();
                displayStudentLessons();
            }
            if (file) reader.readAsDataURL(file);
            else reader.onload({ target: { result: null } });
        }

        function displayTeacherLessons() {
            const div = document.getElementById("teacherLessons");
            div.innerHTML = "";
            lessons.filter(l => l.teacherName === currentUser.name).forEach(l => {
                div.innerHTML += `<div class="lesson"><strong>${l.title}</strong><p>${l.content}</p>${l.fileData ? `<embed src="${l.fileData}" width="100%" height="200px" type="application/pdf">` : ''}</div>`;
            });
        }

        function displayStudentLessons() {
            const div = document.getElementById("studentLessons");
            div.innerHTML = "";
            lessons.filter(l => l.course === currentUser.course).forEach(l => {
                div.innerHTML += `<div class="lesson"><strong>${l.title}</strong><p>${l.content}</p>${l.fileData ? `<embed src="${l.fileData}" width="100%" height="200px" type="application/pdf">` : ''}</div>`;
            });
        }

        // ******** ŸÖŸàÿßÿπŸäÿØ ÿßŸÑÿ≠ÿµÿµ ********
        function saveSessionTime() {
            const time = document.getElementById("sessionTime").value;
            if (!time) { alert("Choose a time"); return; }
            localStorage.setItem("sessionTime", time);
            document.getElementById("savedTimeText").textContent = "Class time:" + new Date(time).toLocaleString("ar-DZ");
        }

        function saveSessionLink() {
            const link = document.getElementById("sessionLink").value.trim();
            if (!link) { alert("Put the link"); return; }
            localStorage.setItem("sessionLink", link);
            document.getElementById("savedLinkText").textContent = "Link to the lesson saved" + link;
        }

        function loadSessionTeacher() {
            const time = localStorage.getItem("sessionTime");
            const link = localStorage.getItem("sessionLink");
            document.getElementById("savedTimeText").textContent = time ? "Class time" + new Date(time).toLocaleString("ar-DZ") : "The date of the lesson has not yet been determined.";
            document.getElementById("savedLinkText").textContent = link ? "Class link:" + link : "";
        }

        function displaySessionToStudent() {
            const time = localStorage.getItem("sessionTime");
            const info = document.getElementById("sessionInfo");
            info.textContent = time ? "Class time:" + new Date(time).toLocaleString("ar-DZ") : "The teacher has not yet set a time for the lesson.";
        }

        function paySession() {
            if (confirm("Do you want to pay with the gold card for 250 DZD?")) {
                localStorage.setItem("sessionPaid_" + currentUser.name, "yes");
                alert("Payment made");
            }
        }

        function enterSession() { alert("Hello! Enter the class"); }
        function goToSessionLink() {
            const link = localStorage.getItem("sessionLink");
            if (!link) { alert("The link does not exist"); return; }
            window.open(link, "_blank");
        }

        // ******** ÿßŸÑŸÖÿ¥ÿ±ŸÅ ********
        function displayPendingUsers() {
            const div = document.getElementById("pendingUsers");
            div.innerHTML = "";
            users.filter(u => u.role === "teacher" && u.status === "pending").forEach(u => {
                div.innerHTML += `<div class="pending"><strong>${u.name}</strong> | course ${u.course} | Academic qualifications: ${u.qualifications} | email: ${u.email}
            <button onclick="approveUser('${u.name}')">Acceptance</button>
            <button onclick="rejectUser('${u.name}')">rejection</button></div>`;
            });
        }

        function approveUser(name) {
            const user = users.find(u => u.name === name && u.role === "teacher");
            if (user) { user.status = "approved"; localStorage.setItem("users", JSON.stringify(users)); displayPendingUsers(); }
        }
        function rejectUser(name) {
            const user = users.find(u => u.name === name && u.role === "teacher");
            if (user) { users = users.filter(u => u.name !== name); localStorage.setItem("users", JSON.stringify(users)); displayPendingUsers(); }
        }

        // ******** ÿßŸÑÿ®ÿ≠ÿ´ ********
        const searchInput = document.getElementById("searchInput");
        const resultsDiv = document.getElementById("results");

        const courses = [
            { name: "technology", link: "technology.html" },
            { name: "Languages", link: "lang.html" },
            { name: "Economics and Management", link: "economy.html" },
        ];

        searchInput.addEventListener("input", function () {
            const val = this.value.trim();
            resultsDiv.innerHTML = "";
            if (val === "") { resultsDiv.classList.add("hidden"); return; }
            const filtered = courses.filter(c => c.name.includes(val));
            if (filtered.length === 0) { resultsDiv.innerHTML = "<div>No results found</div>"; resultsDiv.classList.remove("hidden"); return; }
            filtered.forEach(c => {
                const div = document.createElement("div");
                const a = document.createElement("a");
                a.href = c.link;
                a.textContent = c.name;
                div.appendChild(a);
                resultsDiv.appendChild(div);
            });
            resultsDiv.classList.remove("hidden");
        });
    </script>
    </script>

    <!-- ******** ÿ™ÿ≠ÿ≥ŸäŸÜ ÿßŸÑŸÖÿ∏Ÿáÿ± ŸÑŸÑÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑÿ≥ŸÅŸÑŸäÿ© ******** -->
    <style>
        .bottom-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .bottom-buttons button {
            padding: 12px 25px;
            font-size: 16px;
            background-color: #a64aae86;
            color: #000;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .bottom-buttons button:hover {
            background-color: #a05eb292;
        }
    </style>

    <!-- ŸÖÿ´ÿßŸÑ ÿπŸÑŸâ ÿßŸÑÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑÿ≥ŸÅŸÑŸäÿ© -->
    <div class="bottom-buttons">

        <button
            onclick="window.open('https://mail.google.com/mail/?view=cm&fs=1&to=talentsway459@gmail.com','_blank')">contact
            us</button>
        <button onclick="logout()">Log out</button>


    </div>
    <p>MELAS Imene and CHAIBI Bochra</p>
</body>


</html>

